const e=e=>{let t=document.querySelector(".movies-list");t.innerHTML="";let o=e.map(({title:e,genre:t,director:o,year:n})=>`<li class="movies-item"><h3 class="movies-title">${e}</h3><p class="movies-genre">${t}</p><p class="movies-director">${o}</p><p class="movies-year">${n}</p></li>`).join("");t.innerHTML=o},t=()=>{let t=[];for(let e of o)t.some(t=>Number(t.id)===Number(e.id))||t.push(e);o.length=0,o.push(...t),e(o)};let o=[];const n=()=>{let e={method:"POST",body:JSON.stringify({id:"6",title:"Paddington 2",genre:"Comedy",director:"Paul King",year:2017}),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch(`http://localhost:3000/movies/${moviesToAdd.id}`).then(n=>{if(!n.ok)return fetch("http://localhost:3000/movies",e).then(e=>e.json()).then(e=>{o.push(e),t()}).then(e=>console.log(e))})},s=()=>fetch("http://localhost:3000/movies/1",{method:"PUT",body:JSON.stringify({id:7,title:"Back to the Future",genre:"Fantasy",director:"Robert Zemeckis",year:1985}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(n=>{let s=o.findIndex(e=>e.id===n.id);-1!==s?o[s]={...o[s],...n}:o.push(n),t(),e(o)}),h=()=>{fetch("http://localhost:3000/movies/5",{method:"PATCH",body:JSON.stringify({title:"The Knight and Day",director:"James Mangold"}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(n=>{console.log(n),t(),e(o)})},i=()=>fetch("http://localhost:3000/movies/2",{method:"DELETE"}).then(e=>console.log(e));fetch("http://localhost:3000/movies").then(e=>e.json()).then(e=>{o.length=0,o.push(...e),t()}).then(()=>n()).then(()=>s()).then(()=>h()).then(()=>i());
//# sourceMappingURL=index.1f7bf004.js.map
